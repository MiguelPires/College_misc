\chapter{Protocol}

One of the  main contributions of this work is an adaptation of the Generalized Paxos protocol for the Visigoth model that allows us to solve the command history problem with different fault assumptions. In the interest of clarity, the protocol will be presented in the same way it was built, that is, incrementally. First, we will start by presenting a slightly modified version of Generalized Paxos for the crash fault model. Even though the original protocol was developed for this fault model, it solves the generalized consensus problem. However, since the generality of this problem greatly complicates the protocol itself, we specialize the problem to its original motivating form, the command history problem. Therefore, subsection \ref{Crash Fault Model} presents a description of a protocol that solves this simplified problem in the crash fault model and the corresponding pseudocode. In subsection \ref{Byzatine Fault Model}, we present the Byzantine Generalized Paxos (BGP) protocol. This protocol solves the command history consensus problem for an environment where replicas can behave arbitrarily. In addition to a description of the protocol, this section also contains pseudocode algorithms, detailing the protocol's execution, and correctness proofs for each property. This section also contains a discussion section where an optimization and other important aspects of the protocol are discussed. In subsection \ref{Visigoth Fault Model}, the Generalized Paxos protocol is broadened from the Byzantine to the Visigoth fault model. As with the Byzantine version, the description of the protocol is accompanied by pseudocode algorithms and correctness proofs.

\input{cft_desc}
\input{algo_cft}
\clearpage
%\input{algo_bft}
\input{bft_desc}
\input{bft_proof}

\clearpage
\input{algo_vft}
\input{vft_desc}
\input{vft_proof}
