\begin{appendices}

\section{Crash-fault Tolerant Protocol}
\input{cft_desc}
\input{algo_cft}

\clearpage
\section{Byzantine Fast Quorums - OUTDATED}
To adapt Generalized Paxos to the Byzantine setting, the fast quorums must be recalculated to ensure agreement. Generalized Consensus' Approximate Theorem 3 states that any two fast quorums, $Q_{f1}$ and $Q_{f2}$, and a classic quorum $Q_c$, must have a non-empty intersection. To adapt the protocol to the Byzantine scenario, this intersection can't only be non-empty, it also needs to be larger than $f$ replicas. We obtain the minimum quorum size by forcing the intersection between quorums to be larger than $f$ in the worst case scenario. In the worst case, given two fast quorums of size $Q_f$ and a classic quorum of size $Q_c$, $Q_c$ would intersect with all the replicas of the fast quorums that don't intersect with each other and with some replicas of the fast quorums that do intersect. We name $x$ as the intersection between the three quorums. To ensure agreement, we need to ensure that the intersection between the classic quorum and the two fast quorums, $x$, will have to be larger than $f$. Therefore, the following statements must always hold:

\begin{gather*}
\begin{cases}
Q_c \geq N - Q_f + N-Q_f + x \\
x > f \\
Q_c = \lceil \frac{N+f}{2}\rceil
\end{cases} \\ 
\end{gather*}

The first equation states that the classic quorum is composed of the replicas of the fast quorums that don't intersect with each other plus some replicas that do intersect. The second equation forces the intersection to always be larger than $f$ and the third equation is the minimum quorum size for classic quorums. To solve the system, we can substitute the $Q_c$ in the first equation by $\lceil \frac{N+f}{2}\rceil$ and we obtain:
\begin{gather*} \\
Q_c \geq N - Q_f + N-Q_f + x \label{eq_1} \tag{1} \\ 
\lceil\frac{N+f}{2}\rceil \geq 2N - 2Q_f + x \label{eq_2} \tag{2} \\
N+f \geq 4N - 4Q_f + 2x \label{eq_3} \tag{3} \\
Q_f \geq \frac{3N+2x-f}{4} \label{eq_4} \tag{4} \\ 
\text{Since $x > f$} \implies Q_f \geq \frac{3N+f+1}{4} \label{eq_5} \tag{5}  \\
\end{gather*}

Note that when transitioning from \eqref{eq_2} to \eqref{eq_3}, the ceiling operator was ignored. However, this is safe because, for any $x$, $y$ and $z$, if $\frac{x}{y} > z$ then $\lceil \frac{x}{y} \rceil > z$ holds.\par

\end{appendices}